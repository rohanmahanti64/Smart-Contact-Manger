<!doctype html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" th:replace="~{normal/base::layout(~{::section})}">

<head>
	<meta charset="UTF-8" />
	<title th:text ="${title}"></title>
</head>

<body>
	<section>
		<div class="card mr-3 ml-3">
	<div class="card-body">
		<!-- Message response -->
		<div class="container" th:if ="${session.message}" >  
		<div th:classappend ="${'alert-'+session.message.type}" 
		 class="alert text-center" role="alert">
             <span th:text ="${session.message.content}"></span>
            </div>
           <th:block th:text ="${#session.removeAttribute('message')}"></th:block>
            </div>
		<h1 class="text-center">Update Contact</h1>	
		<div class="container-fluid mt-1">
			<div class="row">
				
				<div class="col-md-10 offset-md-1">
					
					<form th:action="@{/user/process-update}" th:object="${contact}"
					enctype="multipart/form-data" method="post" class="mt-2">
					
					<!-- Hiddenn form field to send cid to controller-->
					<input type="hidden" th:value="${contact.cid}" name="cid" />
					
					<!-- name field -->
					<div class="input-group" >
						<div class="input-group-prepend">
							<div class="input-group-text mr-1">
								<i class="fa fa-plus"></i>
							</div>
						</div>
						<input type="text" class="form-control" name="name"
						 placeholder="Enter Name Here" th:value ="${contact.name}"/>
					</div>
					
					<!-- nickName field-->
					<div class="input-group mt-3">
						<div class="input-group-prepend">
							<div class="input-group-text mr-1">
								<i class="fas fa-user-alt"></i>
							</div>
						</div>
						<input type="text" class="form-control" name="nickName"
						 placeholder="Enter Nick Name Here" th:value ="${contact.nickName}" />
					</div>
					
					<!-- Phone -field-->
					<div class="input-group mt-3">
						<div class="input-group-prepend">
							<div class="input-group-text mr-1">
								<i class="fa fa-phone"></i>
							</div>
						</div>
						<input type="number" class="form-control" name="phone" 
						placeholder="Enter Phone Number Here" th:value ="${contact.phone}" />
					</div>
					
					<!-- Email field -->
					<div class="input-group mt-3">
						<div class="input-group-prepend">
							<div class="input-group-text mr-1">
								<i class="fa-solid fa-at"></i>
							</div>
						</div>
						<input type="email" class="form-control" name="email"
						 placeholder="Enter Email Here" th:value ="${contact.email}" />
					</div>
					
					<!-- Work field -->
					<div class="input-group mt-3">
						<div class="input-group-prepend">
							<div class="input-group-text mr-1">
								<i class="fa fa-briefcase"></i>
							</div>
						</div>
						<input type="text" class="form-control" name="work"
						 placeholder="Enter Work Here" th:value ="${contact.work}"/>
					</div>
					
					<!-- Contact Description -->
					<div class="form-group mt-3">
						<textarea name="description"  rows="6" class="form-control" id="myTextarea"
						placeholder="Enter Contact Description Here (*note- maximum 1000 words)"
						th:text ="${contact.description}"></textarea>
					</div>
					
			          <!-- Image field-->
			          <div class="container">
						  <img th:src="@{'/img/'+${contact.image}}" class="img-fluid contact_image"
						   alt="" style="width: 250px; height: 250px;" />
					  </div>
					  <p class="text-secondary">Chose a new profile picture</p>
			          <div class="custom-file">
						  <input type="file" class="" name="profileImage" />
					  </div>
					  <div class="container text-center">
						  <button class="btn btn-primary">Save Contact</button></div>		
					
					</form>
				</div>
			</div>
			
		</div>	
				
	</div>
			
		</div>
	</section>
</body>
